@tailwind base;
@tailwind components;
@tailwind utilities;

/* SVG Fretboard Styles */

.fretboard {
  cursor: pointer;
  display: block;
  margin: 0 auto;
}

.fret__wire {
  fill: none;
  stroke: #000;
}

.fret__marker > circle {
  r: 10;
  fill: #ddd;
}

.label {
  fill: #000;
  stroke: #000;
  stroke-width: 0;
  text-anchor: middle;
}

.string__line {
  fill: none;
  stroke: #000;
}

.string__overlay {
  fill-opacity: 0;
}

.string__marker {
  transition: r 100ms;
  r: 8;
}

.string__marker-preview {
  fill: rgba(0, 196, 204, 0.5);
  animation: pulse 1.2s infinite;
}

.string__marker-lit {
  fill: #F73667;
}

.string__marker-lit.string__marker-nut {
  fill: none;
  stroke: #F73667;
}

.string__marker-root {
  fill: #99C432;
}

.string__marker-root.string__marker-nut {
  fill: none;
  stroke: #99C432;
}

@keyframes pulse {
  0% { r: 8; opacity: 1; }
  50% { r: 12; opacity: 0.6; }
  100% { r: 8; opacity: 1; }
}

/* Note bloom: expanding ring that fades out */
.string__marker-bloom {
  opacity: 0;
  pointer-events: none;
  transform-box: fill-box;
  transform-origin: center;
  animation: note-bloom 0.55s ease-out forwards;
}

@keyframes note-bloom {
  0%   { opacity: 0.7; transform: scale(1); }
  100% { opacity: 0; transform: scale(2); }
}

/* Note playing: settle-in on the main dot */
.string__marker-playing {
  animation: note-attack 0.2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes note-attack {
  0%   { r: 2; opacity: 0.6; }
  60%  { opacity: 1; }
  100% { opacity: 1; }
}

/* Beat indicator pulse */
.beat-pulse {
  animation: beat-pulse 0.15s ease-out;
}

@keyframes beat-pulse {
  0% { transform: scale(1.4); opacity: 0.8; }
  100% { transform: scale(1); opacity: 1; }
}

/* LFO bloom: pulsing ring around the LFO plug circle */
.lfo-bloom {
  position: absolute;
  inset: 0;
  border-radius: 9999px;
  pointer-events: none;
  animation: lfo-bloom-pulse var(--lfo-period, 1s) ease-in-out infinite;
}

@keyframes lfo-bloom-pulse {
  0%   { transform: scale(1); opacity: 0.6; box-shadow: 0 0 4px 2px var(--lfo-color); }
  50%  { transform: scale(1.8); opacity: 0; box-shadow: 0 0 8px 4px var(--lfo-color); }
  100% { transform: scale(1); opacity: 0.6; box-shadow: 0 0 4px 2px var(--lfo-color); }
}

/* Light scrollbar for synth panel */
.synth-panel::-webkit-scrollbar {
  width: 6px;
}

.synth-panel::-webkit-scrollbar-track {
  background: transparent;
}

.synth-panel::-webkit-scrollbar-thumb {
  background: #d1d5db;
  border-radius: 3px;
}

.synth-panel::-webkit-scrollbar-thumb:hover {
  background: #9ca3af;
}

.synth-panel {
  scrollbar-width: thin;
  scrollbar-color: #d1d5db transparent;
}
